# Practice JS Code

![Practice JS Code](https://github.com/hkawa90/PracticeJSCode/blob/48bce8943681664e2ce3b5e79b1a5fbdf23fd045/dist/PracticsJSCode.png)

## èª°ã®ãŸã‚

å°†æ¥ã®è‡ªåˆ†ã€‚ã‚‚ã—ãã¯JSã®åˆå¿ƒè€…ã®ãŸã‚ã®åé¢æ•™å¸«ã¨ã—ã¦ã€‚

## ä½•ã‚’ã™ã‚‹ã‚‚ã®

è¨˜äº‹ã‚„ã€è‡ªåˆ†ã®ãƒ¡ãƒ¢ã§æ›¸ã„ãŸmarkdownæ–‡æ›¸å†…ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã ã‘ã§ã¯ç†è§£ã—ã«ãã„ã“ã¨ã‹ã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãã®å ´ã§`console.log()`ãªã©ã§å®Ÿè¡Œçµæœã‚’ç¢ºèªã€‚ã¾ãŸæ™‚ç³»åˆ—é †ã«å‹•ä½œãŒã‚ã‹ã‚‹Chartã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

## Demo

Demo site: [Practice JS Coce](https://hkawa90.github.io/PracticeJSCode/)

## Install

1. Node.js ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Node.jsã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ç’°å¢ƒã«åˆã‚ã›ã¦[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | Node.js](https://nodejs.org/ja/download/)ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

2. yarnã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Package Managerã®[Home | Yarn - Package Manager](https://yarnpkg.com/)ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€[Installation | Yarn - Package Manager](https://yarnpkg.com/getting-started/install)ã‚’å‚è€ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

2. moduleã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
yarn install
```

## Build

```shell
yarn run build
```
## å®Ÿè¡Œ

ã‚µãƒ³ãƒ—ãƒ«æ–‡æ›¸ã¯distãƒ•ã‚¡ã‚ªãƒ«ãƒ€ã«ã‚ã‚‹ã€‚ãã®ã¾ã¾å®Ÿè¡Œã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯`http://localhost:8080/`ã‚’ã‚ªãƒ¼ãƒ—ãƒ³ã—ã¾ã™ã€‚

```shell
yarn run start
```
## ç‰¹å¾´

markdownæ–‡æ›¸ã‹ã‚‰Webãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ã¾ã™ã€‚fenced code blockã®Javascriptã‚’Webãƒšãƒ¼ã‚¸ã§å‹•ä½œã•ã›ã¦ç†è§£ã—ã‚„ã™ãã—ã¾ã™ã€‚

* [jpn.css - Optimize typography in Japanese](https://kokushin.github.io/jpn.css/)ã‚’ä½¿ç”¨ã€‚
* [azu/codemirror-console: Web Console UI for JavaScript.](https://github.com/azu/codemirror-console)ã‚’ä½¿ç”¨ã—ã¦Javascriptã‚³ãƒ¼ãƒ‰ã‚’Webãƒšãƒ¼ã‚¸ä¸Šã§å®Ÿè¡Œã€‚ã‚ªãƒªã‚¸ãƒŠãƒ«ã¯CM5ã‚’ä½¿ç”¨ã—ã¦ã„ãŸãŒã€æœ€æ–°ç‰ˆã®[CodeMirror](https://codemirror.net/)ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ãŸã€‚ã¾ãŸä¸€éƒ¨èª¤ã‚Šãªã©ã‚’ä¿®æ­£ã—ã¦ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚
* [vis.js](https://visjs.org/)ã®Timelineã‚’ä½¿ã£ã¦ã€fenced code blockã®JSã‚³ãƒ¼ãƒ‰ã®å‹•ä½œã‚’å¯è¦–åŒ–ã€‚`console.tracing()`ã‚’ã‚³ãƒ¼ãƒ«ã—ãŸã¨ãã®æƒ…å ±ã‚’å¯è¦–åŒ–ã—ã¦ã„ã‚‹ã€‚
* fenced code blockã§[Mermaid | Diagramming and charting tool](https://mermaid.js.org/)ã§diagramè¡¨ç¤º
* CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®[Introduction Â· Bootstrap v5.0](https://getbootstrap.com/docs/5.0/getting-started/introduction/)ã‚’ä½¿ç”¨ã€‚Webãƒšãƒ¼ã‚¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«[Bootstrap 5 Sidebar Examples - DEV Community ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»](https://dev.to/codeply/bootstrap-5-sidebar-examples-38pb)ã‚’å‚è€ƒã«ã—ãŸã€‚
* [markedjs/marked: A markdown parser and compiler. Built for speed.](https://github.com/markedjs/marked)ã§markdownã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§HTMLã¸å¤‰æ›
* é€šå¸¸ã®fenced code blockã¯`highlight.js`ã‚’ä½¿ç”¨

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

### main.js

ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€`mermaid`ã‚’`startOnLoad:false`ã§åˆæœŸåŒ–ã€‚MarkdownãŒå¤‰æ›ã§ããŸã‚‰ã€`mermaid.init()`ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹ã€‚`style=didplay:none`ã‚’é©ç”¨ã—ãŸè¦ç´ ä»¥ä¸‹ã«é©ç”¨ã™ã‚‹ã¨ã€mermaidã¯ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚

ä»¥é™ã€Markdownæ–‡æ›¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€JSã‚³ãƒ¼ãƒ‰/HTMLã‚³ãƒ¼ãƒ‰å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆå‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

### CrtDoc.js

æ–‡æ›¸æ§‹é€ ã‚’å®šç¾©ã—ãŸ`book.config.json`ã‚’`fetch()`ã§èª­ã¿è¾¼ã¿ã€å¿…è¦ãªMarkdownæ–‡æ›¸ã‚‚èª­ã¿è¾¼ã‚€ã€‚

`book.config.json`:

```json
{
    "title": "ã‚¿ã‚¤ãƒˆãƒ«ã ã",
    "style": "custom.css",
    "cmTheme" : "materialLight",
    "chapters": [
        { "file": "/1.md", "name" : "ç¬¬1ç« "},
        { "file": "/2.md", "name" : "ç¬¬2ç« "},
        { "file": "/3.md", "name" : "ã‚µãƒ³ãƒ—ãƒ«"},
        { "file": "/4.md", "name" : "Timeline"}
    ]
}
```

markdownæ–‡æ›¸ã®HTMLå¤‰æ›å¾Œã¯`id=CONTENTS`ã®é…ä¸‹ã«`appendChild`ã™ã‚‹ã€‚ã“ã®æ™‚'id=chap-ç« ç•ªå·-content'ã¨ã—ã¦ã€ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã¨ã—ã¦ã„ã‚‹ã€‚ã¾ãŸã€HTMLã‹ã‚‰`h1,h2,h3,h4,h5,h6`ã‚’æŠ½å‡ºã—ã¦ã€TOC(ç›®æ¬¡)ã‚’ä½œæˆã—ã¦ã€å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚

### CodeMirrorRepl.js, context-eval.js

ã»ã¼[azu/codemirror-console: Web Console UI for JavaScript.](https://github.com/azu/codemirror-console)ã¨åŒã˜ã ãŒã€CMã‚’æœ€æ–°ç‰ˆã®V6ã«å¤‰æ›´.scrpt, moduleãªã©ã«åŠ ãˆã¦ã€HTMLã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã„ã‚‹ã€‚consoleã®log(),info(), warn(), error()ã«åŠ ãˆã¦ã€clear(),count(),countReset(),debug(),assert(),dir(),dirxml(),exception(),group(),groupCollapsed(),groupEnd(),profile(),profileEnd(),table(),time(),timeEnd(),timeStamp()ã‚’è¿½åŠ ã€‚

## æ–‡æ›¸ä½œæˆæ–¹æ³•

ç« æ¯ã®Markdownæ–‡æ›¸ã‚’ä½œæˆã—ã€`dist`ãƒ•ã‚©ãƒ«ãƒ€ã«`book.config.json`ã‚’ä½œæˆã—ã€æ–‡æ›¸ã‚¿ã‚¤ãƒˆãƒ«ã¨ç« æ¯ã«ãƒ•ã‚¡ã‚¤ãƒ«åã¨ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨˜è¼‰ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯`dist`é…ä¸‹ã®çµ¶å¯¾ãƒ‘ã‚¹ã§æŒ‡å®šã™ã‚‹ã€‚styleã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ã€`style`ã«ã‚«ã‚¹ã‚¿ãƒ CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã§ãã‚‹ã€‚ã‚«ã‚¹ã‚¿ãƒ CSSãƒ•ã‚¡ã‚¤ãƒ«ã¯é€šå¸¸ã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ã€‚ã¾ãŸåŒæ§˜ã«ã€`cmTheme`ã§CodeMirrorã®themeã‚’è¨­å®šã§ãã‚‹ã€‚Themeåã¯[material](https://www.npmjs.com/package/@uiw/codemirror-themes-all)ã‚’å‚ç…§ã€‚

`book.config.json`ã®ä¾‹:
```json
{
    "title": "Practice JS Coce",
    "style": "/custom.css",
    "cmTheme" : "materialLight",
    "chapters": [
        { "file": "/1.md", "name" : "README"},
        { "file": "/2.md", "name" : "Mermaid Example"},
        { "file": "/3.md", "name" : "JSã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã‚µãƒ³ãƒ—ãƒ«"},
        { "file": "/4.md", "name" : "HTMLã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã‚µãƒ³ãƒ—ãƒ«"}
    ]
}
```

ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã•ã›ãŸã„Javascript codeã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨€èªæŒ‡å®šã§`pjs`ã¨ã—ã¾ã™ã€‚

````
```pjs
console.log(1)
```
````

å®Ÿè¡Œã•ã›ãŸã„HTMLã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨€èªæŒ‡å®šã§`phtml`ã¨ã—ã¾ã™ã€‚

````
```phtml
<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.17.1.min.js'></script>
</head>

<body>
	<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
var size = 100, x = new Array(size), y = new Array(size), z = new Array(size), i, j;

for(var i = 0; i < size; i++) {
	x[i] = y[i] = -2 * Math.PI + 4 * Math.PI * i / size;
  	z[i] = new Array(size);
}

for(var i = 0; i < size; i++) {
  	for(j = 0; j < size; j++) {
    	var r2 = x[i]*x[i] + y[j]*y[j];
    	z[i][j] = Math.sin(x[i]) * Math.cos(y[j]) * Math.sin(r2) / Math.log(r2+1);
 	}
}

var data = [ {
		z: z,
		x: x,
		y: y,
		type: 'contour'
	}
];

Plotly.newPlot('myDiv', data);

  </script>
</body>
```
````
mermaidã§è¡¨ç¤ºã•ã›ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«è¨€èªæŒ‡å®šã§`mermaid`ã¨ã—ã¾ã™ã€‚

````
```mermaid
graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;
```
````

ã‚ã¨ã¯Markdownã«å¾“ã„ã¾ã™ã€‚

## ãƒ¡ãƒ¢

* disté…ä¸‹ã‚’gh-pagesã«pushã—ã¦Github Pagesã§å…¬é–‹

```shell
$ git subtree push --prefix dist origin gh-pages
```
å‚è€ƒãƒšãƒ¼ã‚¸ï¼š[Deploy to `gh-pages` from a `dist` folder on the master branch. Useful for use with \[yeoman\](http://yeoman.io).](https://gist.github.com/cobyism/4730490)

* ç©ºã®ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
- [ ] TODO:å‹•ä½œç¢ºèª

```shell
git switch --orphan <new branch>
git commit --allow-empty -m "Initial commit on orphan branch"
git push -u origin <new branch>
```

* Github:ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã‚’å–å¾—ã™ã‚‹

ã‚³ãƒŸãƒƒãƒˆ SHA ã‚’æ‰‹ä½œæ¥­ã§æ¢ã™ã®ã¯ä¸ä¾¿ã§ã™ãŒã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¨ã—ã¦ y ã‚’æŠ¼ã™ã¨ã€URL ãŒãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚ ãã®å¾Œã€URL ã‚’ã‚³ãƒ”ãƒ¼ã—ã€å…±æœ‰ã™ã‚‹ã¨ã€è‡ªåˆ†ãŒè¡¨ç¤ºã—ãŸã®ã¨ã¾ã£ãŸãåŒã˜ã‚‚ã®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚