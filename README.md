# Practice JS Code

![Practice JS Code](https://github.com/hkawa90/PracticeJSCode/blob/48bce8943681664e2ce3b5e79b1a5fbdf23fd045/dist/PracticsJSCode.png)

## èª°ã®ãŸã‚

å°†æ¥ã®è‡ªåˆ†ã€‚ã‚‚ã—ãã¯JSã®åˆå¿ƒè€…ã®ãŸã‚ã®åé¢æ•™å¸«ã¨ã—ã¦ã€‚

## ä½•ã‚’ã™ã‚‹ã‚‚ã®

è¨˜äº‹ã‚„ã€è‡ªåˆ†ã®ãƒ¡ãƒ¢ã§æ›¸ã„ãŸmarkdownæ–‡æ›¸å†…ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã ã‘ã§ã¯ç†è§£ã—ã«ãã„ã“ã¨ã‹ã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãã®å ´ã§`console.log()`ãªã©ã§å®Ÿè¡Œçµæœã‚’ç¢ºèªã€‚ã¾ãŸæ™‚ç³»åˆ—é †ã«å‹•ä½œãŒã‚ã‹ã‚‹Chartã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

## Demo

Demo site: [Practice JS Coce](https://hkawa90.github.io/PracticeJSCode/)

## Install

1. Node.js ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Node.jsã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ç’°å¢ƒã«åˆã‚ã›ã¦[ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | Node.js](https://nodejs.org/ja/download/)ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

2. yarnã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

Package Managerã®[Home | Yarn - Package Manager](https://yarnpkg.com/)ä½¿ç”¨ã—ã¦ã„ã‚‹ã®ã§ã€[Installation | Yarn - Package Manager](https://yarnpkg.com/getting-started/install)ã‚’å‚è€ƒã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

3. moduleã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell
yarn install
```

## Build

```shell
yarn run build
```
## å®Ÿè¡Œ

ã‚µãƒ³ãƒ—ãƒ«æ–‡æ›¸ã¯distãƒ•ã‚¡ã‚ªãƒ«ãƒ€ã«ã‚ã‚‹ã€‚ãã®ã¾ã¾å®Ÿè¡Œã™ã‚‹å ´åˆã¯ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯`http://localhost:8080/`ã‚’ã‚ªãƒ¼ãƒ—ãƒ³ã—ã¾ã™ã€‚

```shell
yarn run start
```
## ç‰¹å¾´

markdownæ–‡æ›¸ã‹ã‚‰Webãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ã¾ã™ã€‚fenced code blockã®Javascriptã‚’Webãƒšãƒ¼ã‚¸ã§å‹•ä½œã•ã›ã¦ç†è§£ã—ã‚„ã™ãã—ã¾ã™ã€‚

* [jpn.css - Optimize typography in Japanese](https://kokushin.github.io/jpn.css/)ã‚’ä½¿ç”¨ã€‚
* [azu/codemirror-console: Web Console UI for JavaScript.](https://github.com/azu/codemirror-console)ã‚’ä½¿ç”¨ã—ã¦Javascriptã‚³ãƒ¼ãƒ‰ã‚’Webãƒšãƒ¼ã‚¸ä¸Šã§å®Ÿè¡Œã€‚ã‚ªãƒªã‚¸ãƒŠãƒ«ã¯CM5ã‚’ä½¿ç”¨ã—ã¦ã„ãŸãŒã€æœ€æ–°ç‰ˆã®[CodeMirror](https://codemirror.net/)ã‚’ä½¿ã£ã¦å®Ÿè£…ã—ãŸã€‚ã¾ãŸä¸€éƒ¨èª¤ã‚Šãªã©ã‚’ä¿®æ­£ã—ã¦ä½¿ç”¨ã—ã¦ã„ã‚‹ã€‚
* [vis.js](https://visjs.org/)ã®Timelineã‚’ä½¿ã£ã¦ã€fenced code blockã®JSã‚³ãƒ¼ãƒ‰ã®å‹•ä½œã‚’å¯è¦–åŒ–ã€‚`console.tracing()`ã‚’ã‚³ãƒ¼ãƒ«ã—ãŸã¨ãã®æƒ…å ±ã‚’å¯è¦–åŒ–ã—ã¦ã„ã‚‹ã€‚
* fenced code blockã§[Mermaid | Diagramming and charting tool](https://mermaid.js.org/)ã§diagramè¡¨ç¤º
* CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®[Introduction Â· Bootstrap v5.0](https://getbootstrap.com/docs/5.0/getting-started/introduction/)ã‚’ä½¿ç”¨ã€‚Webãƒšãƒ¼ã‚¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«[Bootstrap 5 Sidebar Examples - DEV Community ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»](https://dev.to/codeply/bootstrap-5-sidebar-examples-38pb)ã‚’å‚è€ƒã«ã—ãŸã€‚
* [markedjs/marked: A markdown parser and compiler. Built for speed.](https://github.com/markedjs/marked)ã§markdownã‚’ãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§HTMLã¸å¤‰æ›
* é€šå¸¸ã®fenced code blockã¯`highlight.js`ã‚’ä½¿ç”¨
* [dworthen/js-yaml-front-matter: Parses yaml or json from the beginning of a string or file](https://github.com/dworthen/js-yaml-front-matter)ã‚’ä½¿ã£ã¦metadataå–å¾—ã®å®Ÿè£…(ãŸã å–å¾—ã¾ã§ã®å®Ÿè£…ã€ãƒ¡ãƒ¢ã«ä½¿ãˆã‚‹?)ã€‚JSã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã§ã¯ã€å®Ÿè¡Œæ™‚ã®å‹•ä½œè¨­å®šã¨ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€‚è¨˜æ³•ã«ã¤ã„ã¦ã®æ³¨æ„ç‚¹ãŒã‚ã‚‹ã®ã§ã€ä¸‹è¨˜ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚
```javascript
import yamlFront from 'yaml-front-matter'

const yamlStr = `---
age: 127
---
Some Other content`

try {
    console.log(yamlFront.loadFront(yamlStr))
} catch (e) {
    console.log(e)
}
```
ä¸Šè¨˜ã§`age: 127`ã®å ´åˆã¯æ­£å¸¸ã«å‹•ä½œã™ã‚‹ãŒã€

```json
{ age: 127, __content: '\nSome Other content' }
```
ã“ã“ã§`age:127`ã¨ã™ã‚‹ã¨(`:`ã‚³ãƒ­ãƒ³ã®å¾Œã«ã‚¹ãƒšãƒ¼ã‚¹å…¥ã‚Œãªã„)ã€

```javascript
const yamlStr = `---
age:127
---
```
ãã®çµæœã¯ã€ä»¥ä¸‹ã®é€šã‚Šã‚¨ãƒ©ãƒ¼(ä¾‹å¤–)ã¨ãªã‚‹ã®ã§è¨˜è¿°ã«æ°—ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚**ã“ã‚Œã¯YAMLã®ä»•æ§˜ã§ã™ã€‚**[YAML æ§‹æ–‡ â€” Ansible Documentation](https://docs.ansible.com/ansible/2.9_ja/reference_appendices/YAMLSyntax.html)ãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚

```shell
$ node yam.mjs
TypeError: Cannot create property '__content' on string 'age:127'
    at u (/home/kawa90/work/js/web-stream-api/PracticeJSCode/node_modules/yaml-front-matter/dist/yamlFront.js:1:1834)
    at Module.f (/home/kawa90/work/js/web-stream-api/PracticeJSCode/node_modules/yaml-front-matter/dist/yamlFront.js:1:1869)
    at file:///home/kawa90/work/js/web-stream-api/PracticeJSCode/yam.mjs:9:27
    at ModuleJob.run (node:internal/modules/esm/module_job:194:25)
```

## ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ

### JSã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ

`å®Ÿè¡Œ`ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§JS/HTMLã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã§ãã¾ã™ã€‚`ã‚¯ãƒªã‚¢`ãƒœã‚¿ãƒ³æŠ¼ä¸‹ã§ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã¨æç”»è¡¨ç¤ºã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã€‚

`script`ãƒ¢ãƒ¼ãƒ‰ã¨ã€`module`ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚‹ã€‚ã“ã®ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã¯å®Ÿè¡Œãƒœã‚¿ãƒ³æ¨ªã®ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§è¡Œã†ã€‚
`script`ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€JSã‚³ãƒ¼ãƒ‰ã¯`eval()`ã§å®Ÿè¡Œã•ã‚Œã‚‹ã€‚`module`ãƒ¢ãƒ¼ãƒ‰ã§ã¯`dynamic import`ã§èª­ã¿è¾¼ã¾ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦å®Ÿè¡Œã•ã‚Œã‚‹ã€‚ã“ã®ãŸã‚ã€`strict`ãƒ¢ãƒ¼ãƒ‰ã§å‹•ä½œã™ã‚‹ã€‚
`script`ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã‚³ãƒ¼ãƒ‰å…ˆé ­ã«è¨˜è¿°ã—ãŸ`YAML Front matter`ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã€‚æ¬¡ã®ä¾‹ã§ã¯ã€Markdownã§ã®å®Ÿè¡Œå¯èƒ½ãªJSã‚³ãƒ¼ãƒ‰è¨˜è¿°æ–¹æ³•ã‚’ç¤ºã™ã€‚è¨€èªæŒ‡å®šã§`javascript`ã§ã¯ãªã`pjs`ã¨ã—ã¾ã™ã€‚

```pjs
console.log(0)
console.count('label')
console.countReset('label')
console.error('Error !')
```

YAML front matterã«ã¦ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã®æŒ‡å®šã¨ã€å®Ÿè¡Œæ™‚å‹•ä½œã®è¨­å®šã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ã¾ãšã¯YAML front matterã®ä¾‹ã§ã™ã€‚`---`ã¨`---`ã¨ã§æŒŸã¾ã‚ŒãŸç¯„å›²ãŒYAML front matterã§ã™ã€‚`comment`ã¯ãã®ã¾ã¾ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¨ã—ã¦ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚ä¸‹è¨˜ä¾‹ã§ã¯ã€ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºä¸‹éƒ¨ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«`ã‚„ã£ã»ãƒ¼`ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```pjs
---
comment : "ã‚„ã£ã»ãƒ¼"
---
console.log(comment)
```

æ¬¡ã«ã€å®Ÿè¡Œæ™‚å‹•ä½œã®è¨­å®šã¯åŒã˜YAML front matterã«ã¦`config`å†…å®¹ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§å‹•ä½œã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
è¨­å®šå¯èƒ½ãªä¸€è¦§ã¯ä¸‹è¨˜ã®é€šã‚Šã€‚

|item|å†…å®¹|å‚™è€ƒ   |default|
|---|---|---|---|
|view|æç”»On/Off|boolean(On:true, Off:false)|false|
|autorun|è‡ªå‹•å®Ÿè¡Œ|boolean(è‡ªå‹•å®Ÿè¡Œã™ã‚‹:true, è‡ªå‹•å®Ÿè¡Œã—ãªã„:false)|false|
|hide|ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è¡¨ç¤ºOn/Off|boolean(è¡¨ç¤ºã—ãªã„:true, è¡¨ç¤ºã™ã‚‹:false)|false|
|timeline|æ™‚ç³»åˆ—è¡¨ç¤ºOn/Off|boolean(On:true, Off:false)|false|
|script|å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰|"script"or"module"|"script"|
|sandbox|iframe sandboxå±æ€§|string|allow-scripts allow-same-origin|

å®Ÿéš›ã®è¨­å®šä¾‹ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚æŒ‡å®šãŒãªã„é …ç›®ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§å‹•ä½œã™ã‚‹ã€‚

```javascript
---
config: 
  view: true
  autorun: false
  hide: false
  timeline: false
  script: module
size: 50
---
console.log(size)
const button = document.createElement('button')
button.innerText = "button"
document.body.appendChild(button)
```
ä¸‹è¨˜ã®å†…å®¹ãŒã‚¨ãƒ©ãƒ¼å‡ºåŠ›ã•ã‚ŒãŸã‚‰ã€`script`ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’Offã¨ã—ã¦ãã ã•ã„ã€‚

```text
SyntaxError: await is only valid in async functions, async generators and modules
```
ãã†ã™ã‚‹ã¨ã€æ¬¡ã®`await`ã‚’å«ã‚€[ã‚³ãƒ¼ãƒ‰](https://web.dev/i18n/ja/storage-for-the-web/)ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

```javascript
if (navigator.storage && navigator.storage.estimate) {
  const quota = await navigator.storage.estimate();
  // quota.usage -> Number of bytes used.
  // quota.quota -> Maximum number of bytes available.
  const percentageUsed = (quota.usage / quota.quota) * 100;
  console.log(`You've used ${percentageUsed}% of the available storage.`);
  const remaining = quota.quota - quota.usage;
  console.log(`You can write up to ${remaining} more bytes.`);
}
```

### HTMLã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ

`body`ã‚’é™¤ã„ãŸã€`head`, `body`ã‚¿ã‚°ã§æ§‹æˆã•ã‚ŒãŸã€HTMLã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã€‚`view`ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ONã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°çµæœ(iframe)ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

## ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

### main.js

ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€`mermaid`ã‚’`startOnLoad:false`ã§åˆæœŸåŒ–ã€‚MarkdownãŒå¤‰æ›ã§ããŸã‚‰ã€`mermaid.init()`ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹ã€‚`style=didplay:none`ã‚’é©ç”¨ã—ãŸè¦ç´ ä»¥ä¸‹ã«é©ç”¨ã™ã‚‹ã¨ã€mermaidã¯ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚

ä»¥é™ã€Markdownæ–‡æ›¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€JSã‚³ãƒ¼ãƒ‰/HTMLã‚³ãƒ¼ãƒ‰å®Ÿè¡Œç’°å¢ƒã‚’æ§‹ç¯‰ã€ãƒã‚¤ãƒ©ã‚¤ãƒˆå‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

### CrtDoc.js

æ–‡æ›¸æ§‹é€ ã‚’å®šç¾©ã—ãŸ`book.config.json`ã‚’`fetch()`ã§èª­ã¿è¾¼ã¿ã€å¿…è¦ãªMarkdownæ–‡æ›¸ã‚‚èª­ã¿è¾¼ã‚€ã€‚

`book.config.json`:

```json
{
    "title": "ã‚¿ã‚¤ãƒˆãƒ«ã ã",
    "style": "custom.css",
    "cmTheme" : "materialLight",
    "chapters": [
        { "file": "/1.md", "name" : "ç¬¬1ç« "},
        { "file": "/2.md", "name" : "ç¬¬2ç« "},
        { "file": "/3.md", "name" : "ã‚µãƒ³ãƒ—ãƒ«"},
        { "file": "/4.md", "name" : "Timeline"}
    ]
}
```

markdownæ–‡æ›¸ã®HTMLå¤‰æ›å¾Œã¯`id=CONTENTS`ã®é…ä¸‹ã«`appendChild`ã™ã‚‹ã€‚ã“ã®æ™‚'id=chap-ç« ç•ªå·-content'ã¨ã—ã¦ã€ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã¨ã—ã¦ã„ã‚‹ã€‚ã¾ãŸã€HTMLã‹ã‚‰`h1,h2,h3,h4,h5,h6`ã‚’æŠ½å‡ºã—ã¦ã€TOC(ç›®æ¬¡)ã‚’ä½œæˆã—ã¦ã€å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚

### CodeMirrorRepl.js, context-eval.js

ã»ã¼[azu/codemirror-console: Web Console UI for JavaScript.](https://github.com/azu/codemirror-console)ã¨åŒã˜ã ãŒã€CMã‚’æœ€æ–°ç‰ˆã®V6ã«å¤‰æ›´.scrpt, moduleãªã©ã«åŠ ãˆã¦ã€HTMLã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¦ã„ã‚‹ã€‚consoleã®log(),info(), warn(), error()ã«åŠ ãˆã¦ã€clear(),count(),countReset(),debug(),assert(),dir(),dirxml(),exception(),group(),groupCollapsed(),groupEnd(),profile(),profileEnd(),table(),time(),timeEnd(),timeStamp()ã‚’è¿½åŠ ã€‚

## æ–‡æ›¸ä½œæˆæ–¹æ³•

ç« æ¯ã®Markdownæ–‡æ›¸ã‚’ä½œæˆã—ã€`dist`ãƒ•ã‚©ãƒ«ãƒ€ã«`book.config.json`ã‚’ä½œæˆã—ã€æ–‡æ›¸ã‚¿ã‚¤ãƒˆãƒ«ã¨ç« æ¯ã«ãƒ•ã‚¡ã‚¤ãƒ«åã¨ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¨˜è¼‰ã€‚ãƒ•ã‚¡ã‚¤ãƒ«åã¯`dist`é…ä¸‹ã®çµ¶å¯¾ãƒ‘ã‚¹ã§æŒ‡å®šã™ã‚‹ã€‚styleã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ã€`style`ã«ã‚«ã‚¹ã‚¿ãƒ CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã§ãã‚‹ã€‚ã‚«ã‚¹ã‚¿ãƒ CSSãƒ•ã‚¡ã‚¤ãƒ«ã¯é€šå¸¸ã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ã€‚ã¾ãŸåŒæ§˜ã«ã€`cmTheme`ã§CodeMirrorã®themeã‚’è¨­å®šã§ãã‚‹ã€‚Themeåã¯[material](https://www.npmjs.com/package/@uiw/codemirror-themes-all)ã‚’å‚ç…§ã€‚JSã‚³ãƒ¼ãƒ‰ã®å®Ÿè¡Œã«å¿…è¦ãªå¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ(CDN)ãŒã‚ã‚‹å ´åˆã¯ã€`extScript`ã«æŒ‡å®šã™ã‚‹ã€‚

`book.config.json`ã®ä¾‹:
```json
{
    "title": "Practice JS Coce",
    "style": "/custom.css",
    "cmTheme" : "materialLight",
    "extScript" : [
        "https://cdn.plot.ly/plotly-2.17.1.min.js"
    ],
    "chapters": [
        { "file": "/1.md", "name" : "README"},
        { "file": "/2.md", "name" : "Mermaid Example"},
        { "file": "/3.md", "name" : "JSã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã‚µãƒ³ãƒ—ãƒ«"},
        { "file": "/4.md", "name" : "HTMLã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã‚µãƒ³ãƒ—ãƒ«"}
    ]
}
```

ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã•ã›ãŸã„Javascript codeã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨€èªæŒ‡å®šã§`pjs`ã¨ã—ã¾ã™ã€‚

````javascript
```pjs
console.log(1)
```
````

å®Ÿè¡Œã•ã›ãŸã„HTMLã§ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«è¨€èªæŒ‡å®šã§`phtml`ã¨ã—ã¾ã™ã€‚

````javascript
```phtml
<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.17.1.min.js'></script>
</head>

<body>
	<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
  <script>
var size = 100, x = new Array(size), y = new Array(size), z = new Array(size), i, j;

for(var i = 0; i < size; i++) {
	x[i] = y[i] = -2 * Math.PI + 4 * Math.PI * i / size;
  	z[i] = new Array(size);
}

for(var i = 0; i < size; i++) {
  	for(j = 0; j < size; j++) {
    	var r2 = x[i]*x[i] + y[j]*y[j];
    	z[i][j] = Math.sin(x[i]) * Math.cos(y[j]) * Math.sin(r2) / Math.log(r2+1);
 	}
}

var data = [ {
		z: z,
		x: x,
		y: y,
		type: 'contour'
	}
];

Plotly.newPlot('myDiv', data);

  </script>
</body>
```
````
mermaidã§è¡¨ç¤ºã•ã›ãŸã„å ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«è¨€èªæŒ‡å®šã§`mermaid`ã¨ã—ã¾ã™ã€‚

````javascript
```mermaid
graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;
```
````

fenced code blockã®æˆ¦é—˜ã«YAML front matterã§metadataã‚’è¨­å®šã§ãã¾ã™ã€‚ãŸã ç¾åœ¨ã¯åæ˜ ã•ã‚Œã¾ã›ã‚“ã€‚

````javascript
---
comment: "ãƒ¡ãƒ¢ã§ã™"
---
```pjs
console.log(1)
```
````

ã‚ã¨ã¯Markdownã«å¾“ã„ã¾ã™ã€‚

## ãƒ¡ãƒ¢

* disté…ä¸‹ã‚’gh-pagesã«pushã—ã¦Github Pagesã§å…¬é–‹

```shell
$ git subtree push --prefix dist origin gh-pages
```
å‚è€ƒãƒšãƒ¼ã‚¸ï¼š[Deploy to `gh-pages` from a `dist` folder on the master branch. Useful for use with \[yeoman\](http://yeoman.io).](https://gist.github.com/cobyism/4730490)

* ç©ºã®ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
    - [ ] TODO:å‹•ä½œç¢ºèª

```shell
git switch --orphan <new branch>
git commit --allow-empty -m "Initial commit on orphan branch"
git push -u origin <new branch>
```

* Github:ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã‚’å–å¾—ã™ã‚‹

ã‚³ãƒŸãƒƒãƒˆ SHA ã‚’æ‰‹ä½œæ¥­ã§æ¢ã™ã®ã¯ä¸ä¾¿ã§ã™ãŒã€ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã¨ã—ã¦ y ã‚’æŠ¼ã™ã¨ã€URL ãŒãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«è‡ªå‹•ã§æ›´æ–°ã•ã‚Œã¾ã™ã€‚ ãã®å¾Œã€URL ã‚’ã‚³ãƒ”ãƒ¼ã—ã€å…±æœ‰ã™ã‚‹ã¨ã€è‡ªåˆ†ãŒè¡¨ç¤ºã—ãŸã®ã¨ã¾ã£ãŸãåŒã˜ã‚‚ã®ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

* [dworthen/js-yaml-front-matter: Parses yaml or json from the beginning of a string or file](https://github.com/dworthen/js-yaml-front-matter)ã‚’å°å…¥ã—ã‚ˆã†ã¨ã—ãŸã‚‰ã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã®ã§ä¸‹è¨˜ã‚’å‚è€ƒã«ã—ã¦è§£æ±ºã€‚

[Webpack5ã§Reactã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ“ãƒ«ãƒ‰ã—ãŸã‚‰ä¸€ç”Ÿã‚¨ãƒ©ãƒ¼ãŒå‡ºç¶šã‘ãŸè©± - Qiita](https://qiita.com/issei_k/items/f33164a22b8c1dc74a09)

*`iframe`ã«ã¯`sandbox`å±æ€§ãŒã‚ã‚‹ã€‚
TODO: sandboxã®èª¬æ˜

*`iframe`ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé ˜åŸŸã®å¤§ãã•ã§`iframe`ã®ã‚µã‚¤ã‚ºã‚’è¨­å®šã™ã‚‹ã¨ã€å°ã•ããªã‚‹ã€‚`iframe`å†…ã®`body`ã«marginãŒã‚ã‚‹ãŸã‚ã€‚

* Markdownã®Yaml front matterã®å®šç•ªã¯ã€layout, date, categories, tags, titleã®ã‚ˆã†ã ã€‚ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã¯ä½¿ã„å‹æ‰‹ãŒãªã„ã®ã‹ã‚‚ã€‚

* git tag

```shell
git tag -a tagname -m 'comment for tag'
git push origin tagname
```

* iframeã®ã‚µã‚¤ã‚ºè¨ˆç®—ã§ã€ã¾ã è¡¨ç¤ºãŒé–“ã«åˆã‚ãªã„æ™‚clientã‚µã‚¤ã‚ºãŒ0ã«ãªã‚‹ã€‚[function isHidden(elem) {
  return !elem.offsetWidth && !elem.offsetHeight;
}](https://ja.javascript.info/size-and-scroll)ãŒè©³ã—ã„ã€‚ä»¥ä¸‹ã§éš ã•ã‚Œã¦ã„ã‚‹è¦ç´ ã‹ç¢ºèªã§ãã‚‹ã‚‰ã—ã„ã€‚

```javascript
function isHidden(elem) {
  return !elem.offsetWidth && !elem.offsetHeight;
}
```

* [phw/peek: Simple animated GIF screen recorder with an easy to use interface](https://github.com/phw/peek)ã‚’ä½¿ã£ã¦Animated GIFä½œæˆã€‚

* debugã§[ba-hooker.min.js](https://github.com/cowboy/javascript-hooker)ã‚’ä½¿ã£ã¦ãƒ‡ãƒãƒƒã‚°
```javascript
    import hooker from 'hooker'
    // iframeã«å±æ€§ã‚’ã¤ã‘ã¦ã„ã‚‹ã¨ã“ã‚ã‚’traceã§ãã‚‹ã€‚
    const iframe = document.createElement("iframe");
    hooker.hook(iframe, "setAttribute", function() {
        console.trace('setAttribute:', arguments)
      });
```
ãŸã `strict`ãƒ¢ãƒ¼ãƒ‰ã ã¨caller,calleeãŒå–å¾—ã§ããªã„ã®ã§ã€`console.trace()`ã‚’ä½¿ã£ã¦ã„ã‚‹ã€‚

* èµ·å‹•æ™‚ã®ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã§ã€ã‚³ãƒ¼ãƒ‰è©•ä¾¡ç®¡ç†ç”¨èªã«iframeã®é«˜ã•ã‚’`clientHeight`ã§èª¿æ•´ã™ã‚‹ãŒã€åˆå›ã¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒé–“ã«åˆã‚ãªã„ã®ã‹`0`ã¨ãªã‚‹ã€‚workaroundã§`0`ã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®é«˜ã•ã®ã¾ã¾ã¨ã™ã‚‹ã€‚
    * è¦ªè¦ç´ ãŒ`display:none`ãªçŠ¶æ…‹ã§iframeå†…ã§renderingã•ã‚ŒãŸå ´åˆã€`clientHeight`ãŒ0ã«ãªã‚‹ã‚ˆã†ãªã®ã§ã€`display:none`ãŒè§£é™¤ã•ã‚ŒãŸæ®µéšã§ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã™ã‚‹ã‚ˆã†å¤‰æ›´

* JSDoc
    - [JSDoc ã§ JavaScript ã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ã“ã† | ã‚¹ã‚¿ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ ªå¼ä¼šç¤¾](https://sterfield.co.jp/designer/jsdoc-%E3%81%A7-javascript-%E3%81%AE%E3%82%B3%E3%83%A1%E3%83%B3%E3%83%88%E3%82%92%E6%9B%B8%E3%81%93%E3%81%86/)
    - [Use JSDoc: Index](https://jsdoc.app/index.html)

* ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯[ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®å®Ÿä¾‹ï½Bootstrap5è¨­ç½®ã‚¬ã‚¤ãƒ‰](https://bootstrap-guide.com/sample/dashboard)ã‚’å‚è€ƒã«ã—ãŸã€‚
* Bootstrap5ã®å°å…¥ã¯[webpackã§ã®ä½¿ç”¨ï½Bootstrap5è¨­ç½®ã‚¬ã‚¤ãƒ‰](https://bootstrap-guide.com/getting-started/webpack)ã‚’å‚è€ƒã«ã—ãŸã€‚

+ git archive: ãƒªãƒªãƒ¼ã‚¹è¦ã®tar/zip ballä½œæˆ
Githubã§ã‚ã‚Œã°Releaseä½¿ãˆã°ã„ã‚‰ãªã„ã‹ã‚‚ã—ã‚Œãªã„ãŒã€‚
```shell
#!/usr/bin/env bash

$tag = $1 
$project = $2
# Create a compressed tarball.
git archive --format=tar --prefix=$2-$1/ $1 | gzip > $2-$1.tar.gz  
# Create a compressed zipball.
git archive --format=zip --prefix=$2-$1/ $1 > $2-$1.zip  
```

* package.jsonã®versionå¤‰æ›´
[jq](https://stedolan.github.io/jq/)ã‚’ä½¿ã†æ–¹æ³•ã€‚
```shell
version=$(git describe --tags --abbrev=0) # latest tag
jq \'.version=\"$version\"\' package.json
```

* [dworthen/js-yaml-front-matter: Parses yaml or json from the beginning of a string or file](https://github.com/dworthen/js-yaml-front-matter)ã§ã¯ã‚³ãƒ¡ãƒ³ãƒˆã®ã¿ã ã¨ä¾‹å¤–ç™ºç”Ÿ(conf is null)ã€‚
```YAML
---
#
---
```